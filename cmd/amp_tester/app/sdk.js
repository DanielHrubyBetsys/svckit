window.mnu5=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n){var t={publish:0,subscribe:1,request:2,response:3,ping:4,pong:5,alive:6},r={diff:0,full:1,append:2,update:3,close:4},o={t:"type",i:"correlationID",e:"error",c:"errorCode",u:"uri",s:"ts",p:"updateType",b:"subscriptions"};function i(e){var n=e.split("\n"),i=null;try{i=function(e){var n={type:t.publish,updateType:r.diff};for(var i in o){var a=o[i];void 0!==e[i]&&(n[a]=e[i])}return n}(JSON.parse(n[0]))}catch(e){return null}if(n.length>1&&n[1])try{var a=JSON.parse(n[1]);i.body=a}catch(e){}return i}e.exports={messageType:t,updateType:r,unpack:function(e){for(var n=e.split("\n\n"),t=[],r=0;r<n.length;r++){var o=i(n[r]);t[r]=o}return t},unpackMsg:i,pack:function(e){var n={},t=e.body;for(var r in o){var i=o[r];void 0!==e[i]&&(n[r]=e[i])}var a=JSON.stringify(n);return t&&(a+="\n",a+=JSON.stringify(t)),a},ping:function(e){return{type:t.ping,ts:e||(new Date).getTime()}},pong:function(){return{type:t.pong}}}},function(e,n,t){"use strict";t.r(n),t.d(n,"api",function(){return S});var r=t(0),o=t(2),i=t(4),a=t(5),u=t(6),s=void 0,c=void 0,l=void 0,f=-257;function d(e,n){console.error(e,{error:n,errorCode:f,transportState:s.state()})}function p(){}function v(e,n){void 0===n&&(n=d),s.send(e,n)}function g(e){void 0===e&&(e=o.message()),v(e,p)}function y(e){for(var n=r.unpack(e),t=!1,a=0;a<n.length;a++){var u=n[a];if(null===u)return t;switch(u.type){case r.messageType.publish:o.publish(u);break;case r.messageType.response:i.response(u);break;case r.messageType.alive:break;case r.messageType.ping:v(r.pong());break;case r.messageType.pong:t=!0}}return t}function m(e,n,t,r){void 0===t&&(t=function(){}),void 0===r&&(r=d),v(i.request(e,n,t,r),r)}function b(e){e.connected?l.info(e):l.error(e),e.connected&&g(),c&&c(e)}function h(){return""===location.port||"80"===location.port?"":":"+location.port}function T(){var e=location.pathname,n=e.substring(0,e.lastIndexOf("/")+1);return 0===n.length&&(n="/"),n}function S(e){return c=e,l=u.init(location.protocol+"//"+location.hostname+h()+T()+"log"),s=a.init(("https:"===location.protocol?"wss://":"ws://")+location.hostname+h()+T()+"api",y,b),o.init(g),{request:m,subscribe:o.add,unSubscribe:o.remove}}},function(e,n,t){var r=t(0),o=t(3),i={},a=null;function u(){var e={};for(var n in i)e[n]=i[n].ts;return{type:r.messageType.subscribe,subscriptions:e}}function s(){null!=a&&a(u())}e.exports={add:function(e,n){var t=i[e];void 0===t?(t={key:e,ts:0,handlers:[],full:null,diff:null},i[e]=t,s()):n(t.full,null),t.handlers.push(n)},remove:function(e,n){var t=i[e];if(void 0!==t){var r=t.handlers.indexOf(n);r>-1&&t.handlers.splice(r,1),0===t.handlers.length&&(delete i[e],s())}},publish:function(e){var n=e.uri,t=i[n];if(t){if(e.updateType===r.updateType.close)return delete i[n],void t.handlers.forEach(function(e){e(null,null)});t.ts=e.ts,e.updateType!==r.updateType.full&&e.updateType!==r.updateType.append&&e.updateType!==r.updateType.update||(t.full=e.body,t.diff=null),e.updateType===r.updateType.diff&&(t.full||(t.full={}),t.diff=e.body,o(t.full,e.body)),t.handlers.forEach(function(e){e(t.full,t.diff)})}else console.log("topic not found",n)},message:u,init:function(e){a=e}}},function(e,n){function t(e){if(void 0!==e._list)return e._list;var n=[];for(var t in e){var r=e[t];"object"==typeof r&&0!==t.indexOf("_")&&n.push(r)}return n.sort(function(e,n){return void 0===e.order&&(e.order=0),void 0===n.order&&(n.order=0),e.order!==n.order?e.order-n.order:e.name>n.name?1:e.name<n.name?-1:0}),e._list=n,n}e.exports=function(e,n){!function e(n,t){for(var r in t){var o=t[r];if(null!=o)if("object"!=typeof o){var i=n[r];n[r]=o,void 0!==i&&o!==i&&(n["_"+r+"Change"]={previous:i,changedAt:(new Date).getTime()})}else{void 0===n[r]&&(n[r]={});var a=n._collection;o._isStruct&&(a=n);var u=n[r];u._collection=n,u._parent=a,u._key=r,delete u._list,e(u,o)}else delete n[r],delete n["_"+r+"Change"]}}(e,n),function e(n){for(var r in n){var o=n[r];if("object"==typeof o&&0!==r.indexOf("_")){if(!0===o._isMap){var i=o;n[r+"List"]=function(){return t(i)}}e(o)}}}(e)}},function(e,n,t){var r=t(0),o=0,i={};e.exports={request:function(e,n,t,a){o++;var u={type:r.messageType.request,uri:e,correlationID:o,body:n};return i[o]={ok:t,fail:a},u},response:function(e){var n=i[e.correlationID];n&&(delete i[e.correlationID],e.error?n.fail(e.body,e):n.ok(e.body))}}},function(e,n,t){"use strict";t.r(n),t.d(n,"init",function(){return v});var r=t(0);function o(){return(new Date).getTime()}var i=null,a="",u=function(){},s=function(){},c={timer:void 0,schedule:function(e){c.timer=setTimeout(e,16e3)},clear:function(){clearTimeout(c.timer)},onMessage:function(e){e&&c.clear()},start:function(){c.schedule(function(){i.readyState==WebSocket.OPEN&&(f.event("pongTimeout"),i.close())})}},l={timer:void 0,no:0,lastMessage:0,afterPongInterval:16e3,beforePongInterval:4e3,interval:4e3,clear:function(){clearTimeout(l.timer)},start:function(){l.interval=l.beforePongInterval,l.lastMessage=0,l.loop()},loop:function(){o()-l.lastMessage>l.interval/2&&(l.no++,d(r.ping(l.no),function(e){f.event("pingError",e)})),l.timer=setTimeout(l.loop,l.interval)},onMessage:function(e){l.lastMessage=o(),e&&(l.interval=l.afterPongInterval)}},f={success:!1,opened:!1,fallback:!1,giveup:!1,connected:!1,supported:!1,start:o(),startConnect:o(),messages:0,connects:0,retries:0,events:[],onMessage:function(e){f.messages++,e&&!f.connected&&(f.event("pong"),f.success=!0,f.connected=!0,f.retries=f.connects,f.change())},event:function(e,n){var t={name:e,sinceStart:o()-f.start,sinceConnect:o()-f.startConnect};n&&(n.code&&(t.code=n.code),n.type&&(t.type=n.type),n.reason&&(t.reason=n.reason),n.message&&(t.message=n.message),n.name&&(t.name=n.name),t.error=n.toString()),f.events.push(t)},change:function(){u(f)},shouldQuit:function(){return f.connects++,f.startConnect=o(),!f.success&&(f.connects>32?(f.giveup=!0,f.change(),!0):(5===f.connects&&(f.fallback=!0,f.change()),!1))},connectInterval:function(){var e=f.connects||1;return e>12&&(e=12),Math.pow(2,e)}};function d(e,n){if(!i)return n("connection uninitialized"),void f.event("sendError1");if(i.readyState!==WebSocket.OPEN)return n("connection closed readyState:"+i.readyState),void f.event("sendError2");var t=r.pack(e);try{i.send(t)}catch(e){n(e),f.event("sendError3",e)}}function p(){if(!f.shouldQuit()){try{i=new WebSocket(a)}catch(n){return e(),void f.event("wsError",n)}i.onopen=function(){f.opened=!0,c.start(),l.start(),f.event("open")},i.onclose=function(n){e(),f.event("close",n)},i.onmessage=function(e){var n=s(e.data);f.onMessage(n),l.onMessage(n),c.onMessage(n)}}function e(){c.clear(),l.clear(),setTimeout(p,f.connectInterval()),f.connected=!1}}function v(e,n,t){if(a=e,u=function(e){try{t(e)}catch(e){console.log(e)}},s=function(e){try{return n(e)}catch(e){console.log(e)}return!1},f.supported="WebSocket"in window&&null!=window.WebSocket,f.supported)return p(),{send:d};u()}},function(e,n,t){"use strict";t.r(n),t.d(n,"init",function(){return i});var r=t(7);function o(e,n,t,o){r.ajax({url:e,method:"POST",body:JSON.stringify(n)},function(e,n){e>=200&&e<300||console.error(e,n)})}function i(e){return{info:function(n){o(e+"/info",n)},error:function(n){o(e+"/error",n)}}}},function(e,n,t){(function(e){var t=["responseType","withCredentials","timeout","onprogress"];function r(e,n,t){e[n]=e[n]||t}n.ajax=function(n,o){var i=n.headers||{},a=n.body,u=n.method||(a?"POST":"GET"),s=!1,c=function(n){if(n&&e.XDomainRequest&&!/MSIE 1/.test(navigator.userAgent))return new XDomainRequest;if(e.XMLHttpRequest)return new XMLHttpRequest}(n.cors);function l(e,n){return function(){s||(o(void 0===c.status?e:c.status,0===c.status?"Error":c.response||c.responseText||n,c),s=!0)}}c.open(u,n.url,!0);var f=c.onload=l(200);c.onreadystatechange=function(){4===c.readyState&&f()},c.onerror=l(null,"Error"),c.ontimeout=l(null,"Timeout"),c.onabort=l(null,"Abort"),a&&(r(i,"X-Requested-With","XMLHttpRequest"),e.FormData&&a instanceof e.FormData||r(i,"Content-Type","application/x-www-form-urlencoded"));for(var d=0,p=t.length;d<p;d++)void 0!==n[v=t[d]]&&(c[v]=n[v]);for(var v in i)c.setRequestHeader(v,i[v]);return c.send(a),c}}).call(this,t(8))},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t}]);